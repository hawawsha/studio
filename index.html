// 17171719171912 10141811 1215101416 1918111219121211 (Backend Interface)
const Pi = window.Pi;
// 1215171418 191814 Sandbox 1814191910 171918 191819191015 17191618 Pi Browser 10171210 1912191718
Pi.init({ version: "2.0", sandbox: true }); 

// 1710121910 19181915151611 19181319181311 (16101011 191819101311 1918191917101411) - 1918191912101511 101915151611 15161217
const platformWalletAddress = "GAJY6WGGRRGEFXTPMZAIC57MEKZUA5XMWYOWUQ4KL4GEUE3ZJWVUTJZN"; 

async function handlePayment(amount, itemName) {
    try {
        console.log("1719111918 151810 171517 18181915151611: " + platformWalletAddress);
        const payment = await Pi.createPayment({
            amount: amount,
            memo: "151410 1910 19101311 1918111219121211: " + itemName,
            metadata: { type: "reservation", target_wallet: platformWalletAddress },
        }, {
            onReadyForServerApproval: (paymentId) => {
                console.log("Payment ID ready for approval:", paymentId);
            },
            onReadyForServerCompletion: (paymentId, txid) => {
                console.log("121912 19181719181411 1010141915! 191619 1918191719191811:", txid);
                alert("1219 1918151410 1010141915! 11141219 19181212191318 191717 161914101915.");
            },
            onCancel: (paymentId) => { console.log("1219 1718181913 1719181411 1918171517"); },
            onError: (error, payment) => { console.error("161515 1514 1918171517:", error); },
        });
    } catch (err) {
        console.error("12171819 101713 1719181411 1918171517:", err);
    }
}
